---
// import TrustBadges from "./TrustBadges.astro";
// import VideoModal from "../VideoModal.astro";

const featuresList = [
  {
    title: "Spam Destruction",
    description:
      "Cut through the clutter: zero false positives, only the emails that actually matter.",
  },
  {
    title: "AI-Organized Inbox",
    description:
      "See your real leads first: automatically tagged, prioritized, and highlighted by sentiment and urgency.",
  },
  {
    title: "Advanced Filtering",
    description:
      "Find what matters instantly: filter by source, priority, sentiment, or site, and focus on what drives results.",
  },
];
---

<section class="overflow-hidden bg-[#111838]">
  <div class="px-8 pt-32 mx-auto md:px-12 lg:px-24 max-w-7xl relative">
    <div class="max-w-2xl text-center mx-auto lg:text-balance mb-10">
      <div class="flex items-center justify-center gap-2 mb-4">
        <span
          class="inline-flex items-center gap-2 bg-white text-black px-3 py-1 rounded-full text-sm font-semibold"
        >
          <img src="/wordpress-Logo.svg" alt="WordPress" class="w-4 h-4" />
          WordPress Plugin
        </span>
        <span
          class="inline-flex items-center gap-2 bg-white text-black px-3 py-1 rounded-full text-sm font-semibold"
        >
          <img src="/wp-forms.png" alt="WPForms" class="w-4 h-4 rounded" />
          WPForms Ready
        </span>
      </div>
      <p class="text-sm leading-normal font-bold uppercase text-[#00957F]">
        Stop losing time and leads to inbox chaos
      </p>
      <h2
        class="text-xl/snug leading-tight tracking-tight sm:text-2xl/snug md:text-3xl/snug lg:text-4xl/snug mt-4 font-semibold text-[#FFFBDD]"
      >
        Turn messy contact form emails into a clean, AI-organized inbox for
        WordPress
      </h2>
      <p class="text-base leading-normal mt-4 text-[#FFFBDD] font-medium">
        FormFlow automatically captures every submission, kills spam,
        prioritizes real leads, and keeps multi-site clients neatly separated—no
        more inbox chaos.
      </p>
      <div
        class="flex flex-wrap items-center gap-2 justify-center mx-auto mt-12"
        x-data="{ videoOpen: false }"
      >
        <a
          href="https://wordpress.org/plugins/"
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center justify-center transition-all duration-200 focus:ring-2 focus:outline-none text-black hover:text-black bg-[#FDB014] hover:bg-[#FFD05E] focus:ring-accent-500/50 h-9 px-4 py-2 text-sm font-medium rounded-md"
        >
          Start your Free Trial
        </a>
        <button
          @click="videoOpen = true"
          class="flex items-center justify-center gap-2 transition-all duration-200 focus:ring-2 focus:outline-none text-white bg-[#111838] hover:text-[#111838] hover:bg-white ring-1 ring-white h-9 px-4 py-2 text-sm font-medium rounded-md"
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"></path>
          </svg>
          View Demo
        </button>

        <!-- Video Modal -->
        <div
          x-show="videoOpen"
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0"
          x-transition:enter-end="opacity-100"
          x-transition:leave="transition ease-in duration-200"
          x-transition:leave-start="opacity-100"
          x-transition:leave-end="opacity-0"
          @click="videoOpen = false"
          @keydown.escape.window="videoOpen = false"
          class="fixed inset-0 z-50 flex items-center justify-center bg-opacity-75 backdrop-blur-sm p-4"
          style="display: none;"
        >
          <div
            x-show="videoOpen"
            x-transition:enter="transition ease-out duration-300 transform"
            x-transition:enter-start="opacity-0 scale-95"
            x-transition:enter-end="opacity-100 scale-100"
            x-transition:leave="transition ease-in duration-200 transform"
            x-transition:leave-start="opacity-100 scale-100"
            x-transition:leave-end="opacity-0 scale-95"
            @click.stop
            class="relative w-full max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden"
            role="dialog"
            aria-labelledby="video-modal-title"
            aria-modal="true"
          >
            <!-- Modal Header -->
            <div
              class="flex items-center justify-between p-6 border-b border-base-200"
            >
              <div>
                <h2
                  id="video-modal-title"
                  class="text-xl font-semibold text-base-900"
                >
                  FormFlow Demo
                </h2>
                <p class="text-sm text-base-500 mt-1">
                  See how FormFlow transforms WordPress contact form management
                </p>
              </div>
              <button
                @click="videoOpen = false"
                class="flex items-center justify-center w-8 h-8 text-base-400 hover:text-base-600 hover:bg-base-100 rounded-full transition-colors"
                aria-label="Close video modal"
              >
                <svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </button>
            </div>

            <!-- Video Container -->
            <div class="relative">
              <video
                x-ref="demoVideo"
                class="w-full h-auto max-h-[70vh] rounded-lg"
                controls
                preload="metadata"
                poster="/form-flow.png"
                @click.stop
                playsinline
                webkit-playsinline
              >
                <source src="/formflow.mp4" type="video/mp4" />
                <p class="text-white p-4">
                  Your browser doesn't support HTML5 video.
                  <a
                    href="/formflow.mp4"
                    class="text-accent-300 hover:underline"
                  >
                    Download the video instead
                  </a>.
                </p>
              </video>

              <!-- Custom Play Button Overlay (optional) -->
              <div
                x-show="$refs.demoVideo && $refs.demoVideo.paused && !$refs.demoVideo.ended"
                class="absolute inset-0 flex items-center justify-center bg-opacity-20 cursor-pointer rounded-lg"
                @click="$refs.demoVideo.play()"
              >
                <div
                  class="flex items-center justify-center w-16 h-16 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full transition-all duration-200 hover:scale-110 shadow-lg"
                >
                  <svg
                    class="w-6 h-6 text-accent-600 ml-0.5"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M8 5v14l11-7z"></path>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Modal Footer -->
            <div
              class="flex items-center justify-between p-6 bg-base-25 border-t border-base-200"
            >
              <div class="text-sm text-base-600">
                Ready to transform your WordPress forms?
              </div>
              <div class="flex gap-3">
                <button
                  @click="videoOpen = false"
                  class="px-4 py-2 text-sm font-medium text-base-500 hover:text-base-700 transition-colors"
                >
                  Close
                </button>
                <a
                  href="https://wordpress.org/plugins/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-accent-600 hover:bg-accent-700 rounded-md transition-colors"
                >
                  Start Free Trial
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <TrustBadges /> -->
  <div class="px-8 mx-auto md:px-12 lg:px-24 max-w-7xl">
    <div class="relative w-full mx-auto max-w-7xl items-center py-12 pb-12">
      <img
        alt="WordPress Contact Form Management Dashboard - Professional inbox with AI-powered analysis, spam detection, and multi-tenant workspaces"
        class="relative w-full lg:rounded-2xl object-cover rounded"
        src="/form-flow.png"
      />
    </div>
  </div>
  <dl
    class="lg:gap-x-8 lg:grid-cols-3 max-w-4xl mt-8 mx-auto sm:gap-x-6 sm:gap-y-12 sm:grid sm:grid-cols-2 sm:space-y-0 space-y-6 text-center text-sm items-start"
  >
    {
      featuresList.map(({ title, description }) => (
        <div class="text-base-500 lg:text-balance">
          <strong class="text-[#FFFBDD]">{title}</strong> ━ {description}
        </div>
      ))
    }
  </dl>
</section>
